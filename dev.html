<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dev Page — Loading</title>
  <style>
    :root{
      --bg: #0f1724;
      --panel: #0b1220;
      --accent: #7dd3fc;
      --muted: #94a3b8;
      --glass: rgba(255,255,255,0.04);
    }
    *{box-sizing:border-box}
    html,body{height:100%;}
    body{
      margin:0;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg, #071028 0%, #071122 100%);
      color: #e6eef8;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
    }

    /* Loader overlay */
    .loader-wrap{
      width:100%;
      max-width:920px;
      border-radius:12px;
      padding:28px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      box-shadow: 0 10px 30px rgba(2,6,23,0.6), inset 0 1px 0 rgba(255,255,255,0.02);
      position:relative;
      overflow:hidden;
    }

    .header{
      display:flex;
      gap:12px;
      align-items:center;
    }
    .logo{
      width:46px;
      height:46px;
      border-radius:10px;
      background: linear-gradient(135deg, var(--accent), #60a5fa);
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:700;
      color:#012;
      box-shadow: 0 6px 18px rgba(0,0,0,0.45);
    }
    h1{font-size:18px; margin:0;}
    p.lead{margin:6px 0 0; color:var(--muted); font-size:13px;}

    /* center area */
    .body{
      display:flex;
      align-items:center;
      gap:24px;
      margin-top:20px;
    }

    /* spinner */
    .spinner {
      width:92px;
      height:92px;
      border-radius:50%;
      display:grid;
      place-items:center;
      background:radial-gradient(circle at 30% 30%, rgba(255,255,255,0.03), transparent 35%);
      box-shadow: inset 0 -8px 22px rgba(2,6,23,0.6);
    }
    .ring {
      width:64px;
      height:64px;
      border-radius:50%;
      border:6px solid rgba(255,255,255,0.06);
      border-top-color: var(--accent);
      animation: spin 1.05s linear infinite;
    }
    @keyframes spin{ to { transform: rotate(360deg); } }

    /* progress + small message */
    .meta{
      flex:1;
    }
    .progress{
      margin-top:6px;
      height:10px;
      background:var(--glass);
      border-radius:999px;
      overflow:hidden;
      position:relative;
    }
    .progress > i{
      display:block;
      height:100%;
      width:0%;
      background: linear-gradient(90deg, rgba(125,211,252,0.12), rgba(96,165,250,0.18));
      transition: width 400ms linear;
    }
    .status{
      margin-top:10px;
      font-size:13px;
      color:var(--muted);
      display:flex;
      justify-content:space-between;
      align-items:center;
    }

    /* final "dev page" card (hidden until loaded) */
    .dev-page{
      display:none;
      margin-top:18px;
      padding:18px;
      border-radius:10px;
      background: linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.008));
      border: 1px solid rgba(255,255,255,0.02);
    }
    .dev-page h2{margin:0 0 8px 0; font-size:16px;}
    .dev-page p{margin:0; color:var(--muted); font-size:14px;}

    /* reduced motion preference */
    @media (prefers-reduced-motion: reduce) {
      .ring { animation: none; }
      .progress > i { transition: none; }
    }

    /* small responsive tweaks */
    @media (max-width:560px){
      .body{flex-direction:column; align-items:flex-start;}
      .spinner{width:72px;height:72px}
      .ring{width:48px;height:48px;border-width:5px}
    }
  </style>
</head>
<body>
  <div class="loader-wrap" role="main" aria-busy="true" aria-live="polite">
    <div class="header">
      <div class="logo">DEV</div>
      <div>
        <h1>Dev Page — Loading</h1>
        <p class="lead">This is a development preview — not for production use.</p>
      </div>
    </div>

    <div class="body" style="--progress:0">
      <div class="spinner" aria-hidden="true">
        <div class="ring" id="ring"></div>
      </div>

      <div class="meta" aria-hidden="false">
        <div style="display:flex; align-items:center; justify-content:space-between; gap:12px;">
          <strong id="progressPercent">0%</strong>
          <div style="color:var(--muted); font-size:13px;" id="smallMsg">Initializing</div>
        </div>

        <div class="progress" aria-hidden="false" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" role="progressbar">
          <i id="progressBar"></i>
        </div>

        <div class="status">
          <span id="statusLeft">Connecting to dev server…</span>
          <span id="statusRight">ETA — a few seconds</span>
        </div>
      </div>
    </div>

    <div class="dev-page" id="devPage" aria-hidden="true">
      <h2>Development Page Ready</h2>
      <p>The dev environment has finished loading. Use this area to show dev-only tools, logs or links to staging resources.</p>
    </div>
  </div>

  <script>
    // Simulated progressive loader for demo purposes.
    (function(){
      const bar = document.getElementById('progressBar');
      const pct = document.getElementById('progressPercent');
      const smallMsg = document.getElementById('smallMsg');
      const statusLeft = document.getElementById('statusLeft');
      const statusRight = document.getElementById('statusRight');
      const dev = document.getElementById('devPage');
      const wrap = document.querySelector('.loader-wrap');

      // steps to show different statuses
      const steps = [
        {to: 12, text: 'Initializing modules', left: 'Booting dev modules…'},
        {to: 34, text: 'Fetching assets', left: 'Loading scripts & styles…'},
        {to: 58, text: 'Connecting to backend', left: 'Opening dev API connection…'},
        {to: 78, text: 'Applying overrides', left: 'Applying local config…'},
        {to: 96, text: 'Finalizing', left: 'Finishing up…'}
      ];

      let progress = 0;
      let stepIndex = 0;

      function tick(){
        // slowly increase progress toward current step target
        const target = steps[Math.min(stepIndex, steps.length-1)].to;
        if(progress < target) progress += Math.random() * 4 + 1; // random increment
        if(progress > target) progress = target;

        // update UI
        bar.style.width = Math.round(progress) + '%';
        pct.textContent = Math.round(progress) + '%';
        smallMsg.textContent = steps[stepIndex].text;
        statusLeft.textContent = steps[stepIndex].left;
        statusRight.textContent = `ETA — ${Math.max(1, Math.ceil((100-progress)/8))}s`;

        // move to next step if reached
        if(progress >= target && stepIndex < steps.length - 1){
          stepIndex++;
        }

        // finish when >= 100
        if(progress >= 100){
          finish();
        } else {
          setTimeout(tick, 350);
        }
      }

      function finish(){
        // finalize progress to 100
        progress = 100;
        bar.style.width = '100%';
        pct.textContent = '100%';
        smallMsg.textContent = 'Ready';
        statusLeft.textContent = 'Dev server connected';
        statusRight.textContent = 'Done';

        // reveal dev content
        setTimeout(() => {
          dev.style.display = 'block';
          wrap.setAttribute('aria-busy','false');
          dev.setAttribute('aria-hidden','false');
        }, 420);

        // stop spinner for good accessibility if user prefers reduced motion,
        // otherwise keep the spinner running as visual.
        // (We don't remove it to keep the visual cue.)
      }

      // start with a short delay so page looks natural
      setTimeout(() => {
        // Start with a small jump to look lively
        progress = 6;
        bar.style.width = '6%';
        pct.textContent = '6%';
        setTimeout(tick, 300);
      }, 200);
    })();
  </script>
</body>
</html>
